# 원티드 프리온보딩 프론트엔드 챌린지

# 소개

원티드 프리온보딩 프론트엔드 챌린지 사전 과제에서 제공한 todo api를 활용하여 과제에서 요구한 기능이 탑재된 todo앱을 Next.js를 활용하여 만들었습니다.

# 기술 스택

- [Next.js](https://nextjs.org/)
  - Next.js 프레임워크를 활용하여 라우팅 관리에 있어 추가적인 라이브러리를 사용하지 않고 개발하였으며, Next.js에서 제공하는 SSR, SSG, ISR을 활용하지 않고, Next.js에서 자동으로 스태틱하게 빌드해준 HTML에 js 코드가 하이드레이션 되는 방식으로 개발하였습니다.(default)
- [recoil](https://recoiljs.org/ko/)
  - 앱 상태관리에 recoil을 활용하였습니다.
- [tailwindcss](https://tailwindcss.com/)
  - 앱 스타일에 tailwindcss를 활용하였습니다.
- [react-hook-form](https://react-hook-form.com/)
  - 로그인/회원가입 기능 구현 및 todo 기능 구현에 있어 자주 등장하는 form 사용에 도움을 주는 react-hook-form 라이브러리를 활용했습니다.
- [typescript](https://www.typescriptlang.org/)
  - 프로젝트 전반적으로 타입스크립트를 활용하여 제작하였습니다.

# 기능 구현

## **Login / SignUp**

- /auth 경로에 로그인 / 회원가입 기능을 개발합니다
  - 로그인, 회원가입을 별도의 경로로 분리해도 무방합니다
  - [x] 최소한 이메일, 비밀번호 input, 제출 button을 갖도록 구성해주세요
- 이메일과 비밀번호의 유효성을 확인합니다
  - [x] 이메일 조건 : 최소 `@`, `.` 포함
  - [x] 비밀번호 조건 : 8자 이상 입력
  - [x] 이메일과 비밀번호가 모두 입력되어 있고, 조건을 만족해야 제출 버튼이 활성화 되도록 해주세요
- 로그인 API를 호출하고, 올바른 응답을 받았을 때 루트 경로로 이동시켜주세요
  - [x] 응답으로 받은 토큰은 로컬 스토리지에 저장해주세요
  - [x] 다음 번에 로그인 시 토큰이 존재한다면 루트 경로로 리다이렉트 시켜주세요
  - [x] 어떤 경우든 토큰이 유효하지 않다면 사용자에게 알리고 로그인 페이지로 리다이렉트 시켜주세요

## **Todo List**

- Todo List API를 호출하여 Todo List CRUD 기능을 구현해주세요
  - [x] 목록 / 상세 영역으로 나누어 구현해주세요
  - [x] Todo 목록을 볼 수 있습니다.
  - [x] Todo 추가 버튼을 클릭하면 할 일이 추가 됩니다.
  - [x] Todo 수정 버튼을 클릭하면 수정 모드를 활성화하고, 수정 내용을 제출하거나 취소할 수 있습니다.
  - [x] Todo 삭제 버튼을 클릭하면 해당 Todo를 삭제할 수 있습니다.
- 한 화면 내에서 Todo List와 개별 Todo의 상세를 확인할 수 있도록 해주세요.
  - [x] 새로고침을 했을 때 현재 상태가 유지되어야 합니다.
  - [x] 개별 Todo를 조회 순서에 따라 페이지 뒤로가기를 통하여 조회할 수 있도록 해주세요.
- 한 페이지 내에서 새로고침 없이 데이터가 정합성을 갖추도록 구현해주세요
  - [x] 수정되는 Todo의 내용이 목록에서도 실시간으로 반영되어야 합니다

# 데모 시연 영상

[원티드 프리온보딩 fe 사전과제(todo app)](https://youtu.be/2mFor1PDxzY)

# 1차 과제

## 개선한 부분

### 리액트 쿼리를 활용하여 서버 스테이트 분리하기

- 기존의 코드에선 recoil에 서버로 부터 받은 todo 들을 관리하고 있었음
- 그러기에 서버로 부터 데이터를 패치해오고, 그 후에 받은 데이터를 다시 recoil에 담는 형식으로 코드가 구현되어 있었음
- 서버로 부터 받는 데이터를 recoil에 담지 않고, react-query를 통해 서버에서 오는 데이터들을 분리하여 관리할 수 있게 된다는걸 깨닫고, react-query를 활용하여 todo 관련된 CRUD 부분을 react-query로 관리하도록 코드를 수정함.
- react-query를 통해 todo 데이터를 recoil에 보관하지 않고 react-query에서만 관리하고, 컴포넌트에 데이터를 주입할 수 있게 되니 recoil로 관리하던 많은 부분들이 필요 없어졌으며, recoil에는 클라이언트에서 유저의 인터랙션에 따른 플래그 변수 같은 서버에서 넘어오는 데이터와 관계 없는 스테이트들만 관리할 수 있게 되어 좀 더 관심사의 분리가 이루어진 앱을 구축할 수 있어졌음.
- 이전까지는 react-query를 사용해서 서버 스테이트를 분리하고, 관심사를 분리한다는 말이 와닿지 않았는데, 이번 todo 앱 리팩토링을 진행하면서 왜 react-query를 사용하고, 이를 통해 서버 스테이트를 분리하여 관심사의 분리를 이루는지 약간이나마 깨닫게 된 것 같음
  - 만약 스케일이 큰 프로젝트였다면 recoil에 클라이언트에 필요한 스테이트 + 서버로 부터 받은 데이터가 혼재 되어 어디까지가 서버로 부터 받아서 관리 되는 스테이트인지 파악하기 힘들었을 것 같음.
  - 그래서 react-query를 통해 서버로 부터 받아온 데이터를 recoil 같은 상태 관리 라이브러리로 부터 떼어내어 관리할 수 있게 되니 recoil 같은 상태 관리 라이브러리들은 온전히 클라이언트에 필요한 스테이트만 집중할 수 있게 되고, react-query에서 서버에 관련된 스테이트를 관리할 수 있으니 좀 더 직관적으로 프로젝트를 바라볼 수 있게 되는 것 같음.

## 다음과제 및 추가적으로 해야할 일

- [ ] 컴포넌트에서 수행해야 하는 함수나 로직들이 긴 경우 해당 컴포넌트에 로직 + 뷰 코드가 같이 있다보니 복잡한 파일이 생성 되는 케이스가 있었음(todo의 업데이트, 삭제 관리 및 자세한 정보를 보여주는 컴포넌트가 그 타겟) 이런 경우 1차 수업에서 봤던 ****************************\*\*\*\*****************************presentational & container****************************\*\*\*\***************************** 디자인 패턴을 활용한다면 좀 더 직관적으로 코드를 구성할 수 있겠다는 생각을 함. **********************************************************\*\*\*\***********************************************************
- [ ] 유저 인증 과정에서 HOC를 접목하여 구현해 볼까 생각해봤지만, 현재 useUserToken 이란 커스텀 훅을 통해 해결하고 있으므로 특별하게 HOC를 사용하지 않아도 되지 않을까 생각을 했음. 어짜피 Authentication이 되어야 하는 부분에는 userToken이 필요한 부분이 대부분이여서 현재 커스텀 훅을 사용한 방식을 고수할 예정. 다만 useUserToken 훅을 사용하는데 있어 다양한 컴포넌트 내에서 사용하다보면 부모 컴포넌트에서 해당 훅을 호출하고, 자식 컴포넌트에서 호출하는 경우가 종종 있는데, 훅 호출 간 공유될 수 있는 데이터는 클로저를 사용하거나 해서 공유하도록 하여 성능적으로 유리하게 가져가도 괜찮지 않을까 생각해봄.
